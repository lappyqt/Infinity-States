"use strict";var Helpers,Editor,Public;(function(Helpers){class FormHelper{constructor(){}static setHiddenValue(currentElement,hiddenElement){hiddenElement.value=currentElement.innerHTML}}Helpers.FormHelper=FormHelper})(Helpers||(Helpers={})),function(Editor){class PosterPreview{constructor(container,posterContainer,fileInput){this.container=container;this.posterContainer=posterContainer;this.fileInput=fileInput;fileInput.hasAttribute("value")&&this.appendPosterAsFile();this.container.onchange=event=>{event.preventDefault(),this.showPreview(this.fileInput.files[0])};this.container.ondrop=event=>{event.preventDefault();const files=event.dataTransfer.files;this.fileInput.files=files;this.showPreview(files[0])}}showPreview(poster){this.posterContainer.setAttribute("src",URL.createObjectURL(poster))}appendPosterAsFile(){const dataTransfer=new DataTransfer,poster=new File([""],this.fileInput.getAttribute("value").replace("/files/images/",""),{type:"image/png"});dataTransfer.items.add(poster);this.fileInput.files=dataTransfer.files}}Editor.PosterPreview=PosterPreview}(Editor||(Editor={})),function(Public){class Modal{constructor(containerSource){this.containerSource=document.querySelector(containerSource)}show(){this.containerSource.classList.add("visible")}hide(){this.containerSource.classList.remove("visible")}}Public.Modal=Modal;class CategoriesModal extends Modal{constructor(containerSource,categories){super(categories.containerSource);this.containerSource=document.querySelector(containerSource);this.categories=document.querySelector(categories)}show(){super.show();this.containerSource.style.top=`${window.scrollY}px`;document.body.style.overflow="hidden"}hide(){super.hide();document.body.style.overflow="visible"}selectedCategory(){let selectedCategory,childrens=Array.prototype.slice.call(this.categories.children);for(let category of childrens)category.checked==!0&&(selectedCategory=category);return selectedCategory}}Public.CategoriesModal=CategoriesModal;class DropdownModal extends Modal{constructor(containerSource){super(containerSource);this.containerSource.onmouseleave=()=>this.hide()}toggle(){this.containerSource.classList.toggle("visible")}}Public.DropdownModal=DropdownModal}(Public||(Public={})),function(Public){class LocalStorageManager{get storage(){return localStorage}checkItemOnNull(item){if(typeof item!="object"||item==null)throw new Error("Item is not an object or is equals to null");}saveItemJson(key,item){this.checkItemOnNull(item);localStorage.setItem(key,JSON.stringify(item))}getItemJson(key){return JSON.parse(localStorage.getItem(key))}}Public.LocalStorageManager=LocalStorageManager;class SessionStorageManager extends LocalStorageManager{saveItemJson(key,item){this.checkItemOnNull(item);sessionStorage.setItem(key,JSON.stringify(item))}getItemJson(key){return JSON.parse(sessionStorage.getItem(key))}}Public.SessionStorageManager=SessionStorageManager}(Public||(Public={})),function(Public){let InputNames;(function(InputNames){InputNames.Username="username";InputNames.Mail="mail";InputNames.Password="password"})(InputNames=Public.InputNames||(Public.InputNames={}));class FormValidation{constructor(form,errorLogId){this.form=form;this.errorLog=document.getElementById(errorLogId)}addErrorLogLine(message){this.errorLog.innerHTML+=message}removeErrorLogLine(message){this.errorLog.innerHTML=this.errorLog.innerHTML.replace(message,"")}validate(){let input,validateProcess=[];this.errorLog.innerHTML="";for(input of this.form.elements)input.hasAttribute("name")&&(input.name==InputNames.Mail&&validateProcess.push(this.emailValidation(input)),input.name==InputNames.Username&&validateProcess.push(this.nullValidation(input)),input.name==InputNames.Password&&validateProcess.push(this.passwordValidation(input)));return validateProcess.includes(!1)?!1:!0}nullValidation(input){let message="Please enter a username <br>";return input.value.length<1?(this.addErrorLogLine(message),!1):(this.removeErrorLogLine(message),!0)}emailValidation(input){let message="Please enter a valid mail <br>";return input.value.match(/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i)?(this.removeErrorLogLine(message),!0):(this.addErrorLogLine(message),!1)}passwordValidation(input){let message="Password min 6 characters (1 upper case and number) <br>";return input.value.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z\\!?@#$%^&*+-]{6,}$/)?(this.removeErrorLogLine(message),!0):(this.addErrorLogLine(message),!1)}}Public.FormValidation=FormValidation}(Public||(Public={}));